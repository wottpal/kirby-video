"use strict";var video=function(){function e(e){var t=e.target.parentNode;t&&"figure"==t.tagName.toLowerCase()&&t.setAttribute("loaded",!0)}function t(t){t.onloadeddata=e;var r=t.querySelector("img");r&&(r.onload=e)}function r(e){var t=e.querySelector("source:last-of-type");t&&(t.onerror=function(){var t=e.querySelector("img");t&&e.parentNode.replaceChild(t,e)})}function a(e){var t=Array.from(e.children);!t||t.length<=0||(t.reverse().forEach(function(e){var t=e.getAttribute("data-src");t&&""!=t&&(e.setAttribute("src",t),e.removeAttribute("data-src"))}),e.load(),e.hasAttribute("autoplay")&&e.play())}return{initialize:function(){var e=Array.from(document.querySelectorAll("video"));!e||e.length<=0||(e.forEach(t),e.filter(function(e){return e.hasAttribute("lazyload")}).forEach(a),e.forEach(r))}}}();document.addEventListener("DOMContentLoaded",video.initialize);